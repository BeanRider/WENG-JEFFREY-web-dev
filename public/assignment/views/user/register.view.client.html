<!DOCTYPE html>
<div class="container">
    <h2>Register</h2>

    <div ng-show="model.success"
         class="alert alert-success"
         role="alert">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        <span class="sr-only">Success:</span>{{model.success}}
    </div>

    <div ng-show="model.error"
         class="alert alert-danger"
         role="alert">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        <span class="sr-only">Error:</span>{{model.error}}
    </div>

    <form name="registerForm">
        <div class="form-group"
             ng-class=" { 'has-error' : registerForm.username.$invalid && !registerForm.username.$pristine }">
            <input name="username"
                   ng-model="username"
                   class="form-control"
                   placeholder="username"
                   type="text"
                   required />
            <span class="help-block"
                  ng-show="registerForm.username.$invalid && !registerForm.username.$pristine">
                    Please provide a username.
            </span>
        </div>

        <div class="form-group"
             ng-class=" { 'has-error' : registerForm.password.$invalid && !registerForm.password.$pristine } ">
            <input name="password"
                   ng-model="password"
                   class="form-control"
                   placeholder="password"
                   type="password"
                   required />
            <span class="help-block"
                  ng-show="registerForm.password.$invalid && !registerForm.password.$pristine">
                Please provide a password.
            </span>
        </div>

        <div class="form-group"
             ng-class=" { 'has-error' : registerForm.passwordAgain.$invalid && !registerForm.passwordAgain.$pristine} ">
            <input name="passwordAgain"
                   ng-model="passwordAgain"
                   class="form-control"
                   placeholder="verify password"
                   type="password"
                   required />
            <span class="help-block"
                  ng-show="registerForm.passwordAgain.$invalid && !registerForm.passwordAgain.$pristine">
                Passwords do not match.
            </span>
        </div>
    </form>

    <a class="btn btn-primary btn-block"
       ng-click="model.register(username, password, passwordAgain)"
       ng-disabled="registerForm.$invalid">Register</a>
    <a class="btn btn-danger btn-block"
       href="#/login">Cancel</a>
</div>